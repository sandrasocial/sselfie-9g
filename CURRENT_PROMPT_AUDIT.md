# üîç CURRENT FLUX PROMPT AUDIT
**Date:** January 4, 2026  
**Purpose:** Analyze actual prompts being sent to Flux before making any changes

---

## üìã EXECUTIVE SUMMARY

**CRITICAL FINDING:** Current prompts **DO include brand names** (Alo Yoga, Lululemon, Nike, etc.) but they're combined with descriptive details.

**Status:** ‚ö†Ô∏è **MIXED** - Brand names are present, but they're embedded in descriptive phrases.

---

## 1Ô∏è‚É£ EXAMPLE 1: CLASSIC MODE (Flux) - Workout Category

### Generated by:
`app/api/maya/generate-concepts/route.ts` ‚Üí `buildPromptWithFeatures()` ‚Üí `lib/maya/prompt-constructor.ts` ‚Üí `buildPrompt()`

### Code Path:
1. `generate-concepts/route.ts` calls `buildPromptWithFeatures()`
2. `buildPromptWithFeatures()` calls `buildPrompt()`
3. `buildPrompt()` calls `generateCompleteOutfit('workout', 'athletic')`
4. `generateCompleteOutfit()` returns:
   ```typescript
   {
     top: "Alo Yoga Airlift bralette in black with high support",
     bottom: "Alo Yoga Airbrush leggings in matching black with sculpting high waistband",
     shoes: "Nike Air Force 1 Low sneakers in triple white leather",
     accessory: "Lululemon Everywhere Belt Bag in grey"
   }
   ```
5. These are inserted into the prompt via `buildStyling(outfit)`

### Actual Prompt Sent to Flux:
```
[trigger_word], Maintain exactly the characteristics of the person in the attachment (face, visual identity). Do not copy the original photo. Format: portrait 2:3. Hair with natural styling. Without altering features. Hyper-realistic.

Scene: woman exercising in gym. Camera at medium distance, Canon EOS R6 Mark II 24-70mm f/2.8 lens, full body shot.

Outfit: Alo Yoga Airlift bralette in black with high support,
Alo Yoga Airbrush leggings in matching black with sculpting high waistband,
Nike Air Force 1 Low sneakers in triple white leather

Accessories: Lululemon Everywhere Belt Bag in grey

Pose: [expanded pose description]

Lighting: [expanded lighting description], creating natural shadows and authentic athletic atmosphere.

Environment: [expanded environment description], with authentic gym or athletic space details that feel real and lived-in.

Mood: [expanded mood description]

Shot with Canon EOS R6 Mark II 24-70mm f/2.8 lens, athletic lifestyle editorial aesthetic, 4K resolution, hyper-realistic quality. Every detail from the performance fabrics to the environmental elements is rendered with photographic precision, creating an image that captures the authentic energy and atmosphere of an active lifestyle moment.
```

### Brand Name Analysis:
- ‚úÖ **Contains "Alo Yoga"?** YES (appears 2 times: "Alo Yoga Airlift bralette", "Alo Yoga Airbrush leggings")
- ‚úÖ **Contains "Lululemon"?** YES ("Lululemon Everywhere Belt Bag")
- ‚úÖ **Contains "Nike"?** YES ("Nike Air Force 1 Low sneakers")
- ‚ùå **Contains "Chanel"?** NO
- ‚ùå **Contains other luxury brands?** NO (workout category doesn't use luxury)

### Descriptive Analysis:
- ‚úÖ **Uses descriptions like "black tweed jacket with gold chain trim"?** YES - Uses descriptive phrases like "in black with high support", "in matching black with sculpting high waistband", "in triple white leather"
- ‚ö†Ô∏è **Uses natural language like research recommends?** PARTIAL - Brand names are included, but they're embedded in descriptive phrases

---

## 2Ô∏è‚É£ EXAMPLE 2: CLASSIC MODE (Flux) - Casual Category

### Generated by:
`app/api/maya/generate-concepts/route.ts` ‚Üí `buildPromptWithFeatures()` ‚Üí `lib/maya/prompt-constructor.ts` ‚Üí `buildPrompt()`

### Code Path:
1. Same as Example 1, but with `category: 'casual'`
2. `generateCompleteOutfit('casual', 'casual')` returns:
   ```typescript
   {
     top: "oversized cream cable knit sweater", // unbranded
     bottom: "Levi's 501 baggy straight-leg jeans in light vintage wash",
     shoes: "Adidas Gazelle sneakers in burgundy suede",
     accessory: "black baseball cap" // unbranded
   }
   ```

### Actual Prompt Sent to Flux:
```
[trigger_word], Maintain exactly the characteristics of the person in the attachment (face, visual identity). Do not copy the original photo. Woman in late twenties wearing oversized cream cable knit sweater, Levi's 501 baggy straight-leg jeans in light vintage wash, Adidas Gazelle sneakers in burgundy suede.

black baseball cap,
[expanded pose description] in [expanded environment], where [expanded lighting] creates a natural, authentic atmosphere. The scene captures [expanded mood], with every detail rendered in hyper-realistic quality.

Shot with Fujifilm X-T5 35mm f/2 lens, the image maintains casual lifestyle street photography aesthetic, with 4K resolution ensuring every texture, fabric detail, and environmental element is rendered with photographic precision. The composition balances natural movement with intentional framing, creating an image that feels both spontaneous and carefully considered.
```

### Brand Name Analysis:
- ‚ùå **Contains "Chanel"?** NO
- ‚ùå **Contains "ALO Yoga"?** NO (casual category)
- ‚ùå **Contains "Lululemon"?** NO (casual category)
- ‚úÖ **Contains "Levi's"?** YES ("Levi's 501 baggy straight-leg jeans")
- ‚úÖ **Contains "Adidas"?** YES ("Adidas Gazelle sneakers")
- ‚úÖ **Contains other brand names?** YES - Levi's, Adidas

### Descriptive Analysis:
- ‚úÖ **Uses descriptions like "black tweed jacket with gold chain trim"?** YES - Uses descriptive phrases like "in light vintage wash", "in burgundy suede", "oversized cream cable knit sweater"
- ‚ö†Ô∏è **Uses natural language like research recommends?** PARTIAL - Brand names are included, but they're embedded in descriptive phrases

---

## 3Ô∏è‚É£ EXAMPLE 3: PRO MODE (NanoBanana) - Enhanced Prompt

### Generated by:
`app/api/maya/generate-concepts/route.ts` ‚Üí `buildEnhancedPrompt()` ‚Üí `lib/maya/prompt-constructor-enhanced.ts`

### Code Path:
1. `generate-concepts/route.ts` calls `buildEnhancedPrompt()` for Pro Mode
2. `buildEnhancedPrompt()` calls `generateCompleteOutfit(category, vibe)`
3. Same outfit structure as Classic Mode
4. Outfit items are inserted into styling section

### Actual Prompt Sent to NanoBanana:
```
Maintain exactly the characteristics of the person in the attachment (face, body, skin tone, hair and visual identity). Do not copy the original photo.

Woman with athletic, slim and defined body wearing Alo Yoga Airlift bralette in black with high support, Alo Yoga Airbrush leggings in matching black with sculpting high waistband, Nike Air Force 1 Low sneakers in triple white leather, Lululemon Everywhere Belt Bag in grey.

STYLING:
Alo Yoga Airlift bralette in black with high support, Alo Yoga Airbrush leggings in matching black with sculpting high waistband, Nike Air Force 1 Low sneakers in triple white leather, Lululemon Everywhere Belt Bag in grey

[HAIR, MAKEUP, LIGHTING sections - generated by Maya naturally]

CAMERA:
Distance approximately 2.5 to 3 meters, height slightly below eye line, straight angle (NO dramatic inclination), balanced and editorial composition
Vertical 2:3, full body (feet to head), balanced negative space
LENS: 35mm lens, aperture f/2.8

FINAL STYLE:
Hyper-realistic photo in vertical 2:3 portrait, athletic aesthetic, premium workout lifestyle, clean and elegant branding, without artificial appearance or AI. Real, clean and aspirational aesthetic.
```

### Brand Name Analysis:
- ‚úÖ **Contains "Alo Yoga"?** YES (appears 2 times)
- ‚úÖ **Contains "Lululemon"?** YES
- ‚úÖ **Contains "Nike"?** YES
- ‚ùå **Contains "Chanel"?** NO (workout category)

### Descriptive Analysis:
- ‚úÖ **Uses descriptions like "black tweed jacket with gold chain trim"?** YES - Uses descriptive phrases
- ‚ö†Ô∏è **Uses natural language like research recommends?** PARTIAL - Brand names are included, but they're embedded in descriptive phrases

---

## 4Ô∏è‚É£ BRAND-LIBRARY-2025.TS USAGE ANALYSIS

### How `generateCompleteOutfit()` Works:

**Location:** `lib/maya/brand-library-2025.ts`

**Function:** `generateCompleteOutfit(category: string, vibe?: string): Record<string, string>`

**Return Value Structure:**
```typescript
{
  top: string,        // e.g., "Alo Yoga Airlift bralette in black with high support"
  bottom: string,     // e.g., "Alo Yoga Airbrush leggings in matching black with sculpting high waistband"
  shoes: string,      // e.g., "Nike Air Force 1 Low sneakers in triple white leather"
  accessory?: string, // e.g., "Lululemon Everywhere Belt Bag in grey"
  bag?: string,       // e.g., "Bottega Veneta Jodie bag in butter-soft caramel leather"
  jewelry?: string,   // e.g., "Cartier Love bracelet in yellow gold"
  outerwear?: string, // e.g., "The Row Oversized coat in beige"
  luggage?: string    // e.g., "Away aluminum carry-on"
}
```

### Key Finding: `getDetailedDescription()` Function

**Location:** `lib/maya/brand-library-2025.ts` (lines 628-698)

**What It Returns:**
- Format: `"[Brand Name] [Item Name] in [color] with [details]"`
- Examples:
  - `"Alo Yoga Airlift bralette in black with high support"`
  - `"Levi's 501 baggy straight-leg jeans in light vintage wash"`
  - `"Adidas Gazelle sneakers in burgundy suede"`
  - `"Bottega Veneta Jodie bag in butter-soft caramel leather"`

**Critical Discovery:**
- ‚úÖ **Returns brand NAMES + descriptions** (not just descriptions)
- ‚úÖ **Format is: Brand Name + Item Name + Color + Details**
- ‚ùå **Does NOT extract descriptions only** - brand names are always included

### How It's Used in Prompts:

1. **Classic Mode (`prompt-constructor.ts`):**
   - Calls `generateCompleteOutfit(category, vibe)`
   - Gets outfit object with brand names included
   - Inserts directly into prompt via `buildStyling(outfit)`
   - **Result:** Brand names appear in final Flux prompt

2. **Pro Mode (`prompt-constructor-enhanced.ts`):**
   - Calls `generateCompleteOutfit(category, vibe)`
   - Gets outfit object with brand names included
   - Inserts into styling section
   - **Result:** Brand names appear in final NanoBanana prompt

3. **Studio Pro (`nano-banana-prompt-builder.ts`):**
   - Does NOT use `brand-library-2025.ts` directly
   - Uses workflow-driven prompts
   - **Result:** Different system, may or may not include brand names

---

## 5Ô∏è‚É£ CONCLUSION

### ‚úÖ **ALREADY CORRECT:** 
- Prompts use **descriptive phrases** like "in black with high support", "in burgundy suede", "with sculpting high waistband"
- Prompts include **detailed fabric, texture, and fit descriptions**
- Prompts are **not just brand names** - they're brand names + descriptions

### ‚ùå **NEEDS FIXING:**
- Prompts **DO include brand names** as keywords (Alo Yoga, Lululemon, Nike, Levi's, Adidas, etc.)
- Brand names appear **directly in the prompt text** sent to Flux
- `getDetailedDescription()` **always includes brand name** - there's no option to get description-only

### ‚ö†Ô∏è **MIXED STATUS:**
- **Classic Mode:** Brand names + descriptions (e.g., "Alo Yoga Airlift bralette in black with high support")
- **Pro Mode:** Brand names + descriptions (same format)
- **Studio Pro:** Different system, doesn't use brand-library-2025.ts

### üéØ **RECOMMENDATION:**

**Question:** Should Flux prompts include brand names at all?

**Research says:** Flux models work better with **descriptive language** rather than brand names as keywords.

**Current state:** Brand names ARE included, but they're embedded in descriptive phrases.

**Options:**
1. **Extract descriptions only** - Remove brand names, keep descriptions (e.g., "Airlift bralette in black with high support" instead of "Alo Yoga Airlift bralette in black with high support")
2. **Keep current format** - Brand names + descriptions (if this is working well)
3. **Make it configurable** - Add option to include/exclude brand names

**Next Steps:**
1. Test if removing brand names improves Flux output quality
2. If yes ‚Üí Extract descriptions from `getDetailedDescription()` return values
3. If no ‚Üí Keep current format (it's already descriptive)

---

## üìä SUMMARY TABLE

| Mode | Brand Names in Prompt? | Descriptive Details? | Status |
|------|------------------------|---------------------|--------|
| Classic (Flux) | ‚úÖ YES | ‚úÖ YES | ‚ö†Ô∏è Mixed |
| Pro (NanoBanana) | ‚úÖ YES | ‚úÖ YES | ‚ö†Ô∏è Mixed |
| Studio Pro | ‚ùì Unknown | ‚ùì Unknown | ‚ö†Ô∏è Different system |

**Key Finding:** All prompts that use `brand-library-2025.ts` include brand names, but they're combined with descriptive details. The question is whether Flux would perform better with descriptions-only.

---

**AUDIT COMPLETE** ‚úÖ  
**Next Action:** Test if removing brand names improves Flux output, or confirm current format is optimal.



